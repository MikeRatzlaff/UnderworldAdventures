dnl
dnl configure.in for Underworld Adventures
dnl
dnl $Id$
dnl


dnl initial stuff
AC_INIT(../uwadv.cpp)
AM_INIT_AUTOMAKE(uwadv,0.0.1)
AM_CONFIG_HEADER(config.h)
AC_PREFIX_DEFAULT(/usr/local)


dnl libtool
AM_PROG_LIBTOOL


dnl find and test the compiler
AC_PROG_CC
AC_LANG_C
AC_PROG_CXX
AC_LANG_CPLUSPLUS
AC_REQUIRE_CPP


dnl other needed programs
AC_PROG_MAKE_SET
AC_PROG_INSTALL


dnl check header
AC_HEADER_STDC
AC_CHECK_HEADER(SDL/SDL.h,,AC_MSG_ERROR([
Underworld Adventures needs SDL 1.2 or higher installed.]))

AC_CHECK_HEADER(GL/gl.h,,AC_MSG_ERROR([
Mesa header not found. The Mesa graphics 
library is required to compile and run
Underworld Adventures.
Check http://mesa3d.sourceforge.net]))

AC_CHECK_HEADER(fmod.h,AC_DEFINE(HAVE_FMOD_H),AC_MSG_WARN([
FMOD not found. No midi playback available.]))


dnl produce output files
AC_OUTPUT([Makefile ../Makefile ../audio/Makefile
../audio/midi_driver/Makefile ../conv/Makefile
../resource/Makefile ../screens/Makefile])

