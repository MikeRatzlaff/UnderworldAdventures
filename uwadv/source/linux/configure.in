dnl
dnl configure.in for Underworld Adventures
dnl
dnl $Id$
dnl


dnl initial stuff
AC_INIT(../uwadv.cpp)
AM_INIT_AUTOMAKE(uwadv,0.0.1)
AM_CONFIG_HEADER(config.h)
AC_PREFIX_DEFAULT(/usr/local)


dnl libtool
dnl AM_PROG_LIBTOOL


dnl find and test the compiler
AC_PROG_CC
AC_LANG_C
AC_PROG_CXX
AC_LANG_CPLUSPLUS
AC_REQUIRE_CPP


dnl other needed programs
AC_PROG_MAKE_SET
AC_PROG_INSTALL


dnl check header
AC_HEADER_STDC
AC_CHECK_HEADER(SDL/SDL.h,,AC_MSG_ERROR([
Underworld Adventures needs SDL 1.2.3 or higher installed.]))

AC_CHECK_HEADER(SDL/SDL_opengl.h,,AC_MSG_ERROR([
File SDL_opengl.h is missing. Please install at least SDL 1.2.3 (or newer).]))

dnl AC_PATH_PROG(,sdl-config,AC_MSG_ERROR([
dnl Could not find the sdl-config script needed for compiling.
dnl Please reinstall SDL 1.2.3 or higher.]))

AC_CHECK_HEADER(GL/gl.h,,AC_MSG_ERROR([
Mesa header not found. The Mesa graphics library is required
to compile and run Underworld Adventures.
Check http://mesa3d.sourceforge.net]))

AC_CHECK_HEADER(fmod.h,AC_DEFINE(HAVE_FMOD_H,1,HAVE_FMOD_H),AC_MSG_WARN([
FMOD not found. No midi playback available.
FMOD is available at http://www.fmod.org]))


dnl produce output files
AC_OUTPUT(../Makefile)

